<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/fonts.css">
  <title>Microsoft Internet Explorer 5.0</title>
  <style>
    :root {
      --title-bar-bg: linear-gradient(90deg, #000080, #1084d0);
      --title-bar-color: white;
      --window-border-color: #dfdfdf #000000 #000000 #dfdfdf;
      --button-bg: #c0c0c0;
      --button-border-color: #dfdfdf #000000 #000000 #dfdfdf;
      --button-active-border-color: #000000 #dfdfdf #dfdfdf #000000;
      --scrollbar-track-bg: #c0c0c0;
      --scrollbar-thumb-bg: #c0c0c0;
      --accent-color: rgb(0, 0, 128);
      --ButtonShadow: rgb(128, 128, 128);
      --ButtonHilight: rgb(255, 255, 255);
      --InactiveTitle: #808080;
      --GradientInactiveTitle: #c0c0c0;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      /* font-family: 'MS Sans Serif', Tahoma, sans-serif; */
    }

    body {
      background: #008080;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 0;
      font-family: 'Microsoft Sans Serif', sans-serif;
      font-weight: normal;
      cursor: url(http://www.rw-designer.com/cursor-download.php?id=90885), auto;
    }

    .ie-window {
      width: 100%;
      height: 100vh;
      background: #c0c0c0;
      display: flex;
      flex-direction: column;
    }

    .ie-bar {
      border-top: 1px solid var(--ButtonHilight);
      box-shadow: 0px -1px 0px var(--ButtonShadow);
    }

    .menu-bar {
      background: #c0c0c0;
      border-bottom: 1px inset #c0c0c0;
      padding: 2px 5px;
      display: flex;
      font-size: 13px;
      position: relative;
    }

    .menu-item {
      margin-right: 2px;
      padding: 2px 5px;
      cursor: pointer;
      position: relative;
    }

    .menu-item:hover {
      background: #000080;
      /* color: white; */
    }

    .toolbar {
      background: #c0c0c0;
      border-bottom: 1px inset #c0c0c0;
      padding: 3px 5px;
      display: flex;
      align-items: center;
    }

    .toolbar-button {
      width: 23px;
      height: 22px;
      background: #c0c0c0;
      border: 1px outset #c0c0c0;
      margin-right: 2px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
    }

    .address-bar {
      display: flex;
      align-items: center;
      padding: 2px 5px;
      background: #c0c0c0;
      border-bottom: 1px inset #c0c0c0;
    }

    .address-label {
      font-size: 13px;
      margin-right: 5px;
    }

    .address-input {
      flex: 1;
      background: white;
      border: 1px inset #c0c0c0;
      padding: 2px 5px;
      font-size: 13px;
    }

    .content-area {
      flex: 1;
      background: white;
      border: 1px inset #c0c0c0;
      margin: 2px;
      overflow: hidden;
      display: flex;
    }

    .status-bar {
      background: #c0c0c0;
      border-top: 1px inset #c0c0c0;
      padding: 2px 5px;
      display: flex;
      justify-content: space-between;
      font-size: 12px;
    }

    .ie-logo {
      display: flex;
      align-items: center;
      margin-right: 10px;
    }

    .ie-logo-text {
      font-weight: bold;
      color: #000080;
      margin-left: 5px;
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    /* dropdown menu styles */
    .dropdown-menu {
      position: absolute;
      top: 100%;
      left: 0;
      background: #c0c0c0;
      border: 1px outset #c0c0c0;
      min-width: 150px;
      z-index: 1000;
      display: none;
    }

    .dropdown-item {
      padding: 3px 20px 3px 10px;
      cursor: pointer;
      font-size: 13px;
    }

    .dropdown-item:hover {
      background: #000080;
      color: white;
    }

    .menu-item.active .dropdown-menu {
      display: block;
    }

    .separator {
      height: 1px;
      background: #808080;
      margin: 2px 0;
    }


    .gui-btn {
      background: #c0c0c0;
      border: 2px solid;
      border-color: var(--button-border-color);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-size: 14px;
    }

    .menu-item.gui-btn {
      background: #c0c0c0;
      border: 1px solid;
      border-top: none;
      border-bottom: none;
      border-color: var(--button-border-color);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-size: 14px;
    }

    .menu-item.gui-btn:hover {
      border: 1px solid;
      background: rgb(192, 192, 192);
      border-top: none;
      border-bottom: none;
    }

    .gui-btn img {
      max-width: 16px;
      max-height: 16px;
      filter: grayscale(100%);
    }

    .gui-btn:hover {
      background: rgb(192, 192, 192);
      border-color: var(--ButtonShadow) var(--ButtonHilight) var(--ButtonHilight);
      border-top: 2px solid var(--ButtonShadow);
      border-right: 2px solid var(--ButtonShadow);
    }

    .gui-btn:hover img {
      filter: grayscale(0%);
    }

    .status-indicator {
      display: flex;
      align-items: center;
      gap: 5px;
    }
  </style>
</head>

<body>
  <div class="ie-window">
    <div class="menu-bar ie-bar">
      <div class="menu-item gui-btn" data-menu="file">
        Файл
        <div class="dropdown-menu">
          <div class="dropdown-item">Создать окно</div>
          <div class="dropdown-item">Открыть...</div>
          <div class="dropdown-item">Сохранить как...</div>
          <div class="separator"></div>
          <div class="dropdown-item">Настройка страницы...</div>
          <div class="dropdown-item">Печать...</div>
          <div class="separator"></div>
          <div class="dropdown-item">Свойства</div>
          <div class="dropdown-item">Работа в автономном режиме</div>
          <div class="separator"></div>
          <div class="dropdown-item">Выход</div>
        </div>
      </div>
      <div class="menu-item gui-btn" data-menu="edit">
        Правка
        <div class="dropdown-menu">
          <div class="dropdown-item">Вырезать</div>
          <div class="dropdown-item">Копировать</div>
          <div class="dropdown-item">Вставить</div>
          <div class="separator"></div>
          <div class="dropdown-item">Выделить все</div>
          <div class="separator"></div>
          <div class="dropdown-item">Найти (на этой странице)...</div>
        </div>
      </div>
      <div class="menu-item gui-btn" data-menu="view">
        Вид
        <div class="dropdown-menu">
          <div class="dropdown-item">Панели инструментов</div>
          <div class="dropdown-item">Строка состояния</div>
          <div class="dropdown-item">Панель ссылок</div>
          <div class="separator"></div>
          <div class="dropdown-item">Перейти к</div>
          <div class="dropdown-item">Прекратить</div>
          <div class="dropdown-item">Обновить</div>
          <div class="separator"></div>
          <div class="dropdown-item">Кодировка</div>
          <div class="separator"></div>
          <div class="dropdown-item">Исходный текст</div>
          <div class="dropdown-item">Во весь экран</div>
        </div>
      </div>
      <div class="menu-item gui-btn" data-menu="favorites">
        Избранное
        <div class="dropdown-menu">
          <div class="dropdown-item">Добавить в избранное...</div>
          <div class="dropdown-item">Упорядочить избранное...</div>
          <div class="separator"></div>
          <div class="dropdown-item">Ссылки</div>
          <div class="dropdown-item">MSN.com</div>
          <div class="dropdown-item">Сведения о продукте</div>
          <div class="dropdown-item">Часто задаваемые вопросы</div>
        </div>
      </div>
      <div class="menu-item gui-btn" data-menu="tools">
        Сервис
        <div class="dropdown-menu">
          <div class="dropdown-item">Почта и новости</div>
          <div class="dropdown-item">Добавить в избранное</div>
          <div class="separator"></div>
          <div class="dropdown-item">Синхронизация</div>
          <div class="separator"></div>
          <div class="dropdown-item">Свойства обозревателя</div>
        </div>
      </div>
      <div class="menu-item gui-btn" data-menu="help">
        Справка
        <div class="dropdown-menu">
          <div class="dropdown-item">Содержание и указатель</div>
          <div class="dropdown-item">О программе</div>
        </div>
      </div>
    </div>

    <div class="toolbar ie-bar">
      <div class="toolbar-button gui-btn" id="back-btn"><img src="./img/icons/right-arrow.png"
          style="transform: rotate(180deg);" alt=""></div>
      <div class="toolbar-button gui-btn" id="forward-btn"><img src="./img/icons/right-arrow.png" alt=""></div>
      <div class="toolbar-button gui-btn" id="stop-btn"><img src="./img/icons/msg_error-2.png" alt="stop"></div>
      <div class="toolbar-button gui-btn" id="refresh-btn"><img src="./img/icons/refresh.png" alt="refresh"></div>
      <div class="toolbar-button gui-btn" id="home-btn"><img src="./img/icons/home.png" alt="home"></div>
      <div class="toolbar-button gui-btn" id="search-btn"><img src="./img/icons/world-5.png" alt="Search"></div>
      <div class="toolbar-button gui-btn" id="favorites-btn"><img src="./img/icons/world_star-1.png" alt="favorites">
      </div>
      <div class="toolbar-button gui-btn" id="print-btn"><img src="./img/icons/printer_slim-1.png" alt="printer"></div>
    </div>

    <div class="address-bar ie-bar">
      <div class="address-label">Адрес:</div>
      <input type="text" class="address-input" id="address-input"
        value="https://web.archive.org/web/1998/https://www.google.com/">
    </div>

    <div class="content-area ie-bar">
      <iframe src="https://web.archive.org/web/1998/https://www.google.com/" allowfullscreen="allowfullscreen"
        sandbox="allow-same-origin allow-scripts allow-forms allow-pointer-lock allow-modals allow-popups" 
        allow="camera https://brie.fi;microphone https://brie.fi" id="browser-frame">
      </iframe>
    </div>

    <div class="status-bar  ie-bar">
      <div class="status-text" id="status-text">Готово</div>
      <div class="status-indicator">Подключено к Интернету <img src="./img/icons/world-5.png" alt="Search"></div>
    </div>
  </div>

  <script>
    const browserFrame = document.getElementById('browser-frame');
    const addressInput = document.getElementById('address-input');
    const statusText = document.getElementById('status-text');
    const refreshBtn = document.getElementById('refresh-btn');
    const backBtn = document.getElementById('back-btn');
    const forwardBtn = document.getElementById('forward-btn');
    const stopBtn = document.getElementById('stop-btn');
    const homeBtn = document.getElementById('home-btn');

    // ToolBTN event listeners
    refreshBtn.addEventListener('click', function () {
      statusText.textContent = 'Обновление страницы...';
      browserFrame.contentWindow.location.reload();
      setTimeout(() => {
        statusText.textContent = 'Готово';
      }, 1000);
    });

    backBtn.addEventListener('click', function () {
      statusText.textContent = 'Переход назад...';
      browserFrame.contentWindow.history.back();
      setTimeout(() => {
        statusText.textContent = 'Готово';
      }, 500);
    });

    forwardBtn.addEventListener('click', function () {
      statusText.textContent = 'Переход вперед...';
      browserFrame.contentWindow.history.forward();
      setTimeout(() => {
        statusText.textContent = 'Готово';
      }, 500);
    });

    stopBtn.addEventListener('click', function () {
      statusText.textContent = 'Остановка загрузки...';
      browserFrame.contentWindow.stop();
      setTimeout(() => {
        statusText.textContent = 'Готово';
      }, 500);
    });

    homeBtn.addEventListener('click', function () {
      statusText.textContent = 'Переход на домашнюю страницу...';
      browserFrame.src = 'https://web.archive.org/web/1998/https://www.google.com/';
      addressInput.value = 'https://web.archive.org/web/1998/https://www.google.com/';
      setTimeout(() => {
        statusText.textContent = 'Готово';
      }, 1000);
    });

    // Address input 
    addressInput.addEventListener('keypress', function (e) {
      if (e.key === 'Enter') {
        let url = this.value;
        if (!url.startsWith('http://') && !url.startsWith('https://')) {
          url = 'https://' + url;
        }
        statusText.textContent = 'Поиск сайта...';
        browserFrame.src = url;
        setTimeout(() => {
          statusText.textContent = 'Готово';
        }, 1500);
      }
    });

    // Dropdown menu event listeners
    const menuItems = document.querySelectorAll('.menu-item');

    menuItems.forEach(item => {
      item.addEventListener('mouseenter', function () {
        // close other active menus
        menuItems.forEach(otherItem => {
          if (otherItem !== this) {
            otherItem.classList.remove('active');
          }
        });
        // Current menu
        this.classList.add('active');
      });

      item.addEventListener('mouseleave', function (e) {
        // Закрываем меню только если курсор ушел за его пределы
        setTimeout(() => {
          if (!this.matches(':hover') && !this.querySelector('.dropdown-menu').matches(':hover')) {
            this.classList.remove('active');
          }
        }, 100);
      });
    });

    // Dropdown menu item event listeners
    document.querySelectorAll('.dropdown-item').forEach(item => {
      item.addEventListener('click', function () {
        const menuText = this.textContent;
        statusText.textContent = `Выбрано: ${menuText}`;

        // close menu after select
        menuItems.forEach(menuItem => {
          menuItem.classList.remove('active');
        });

        // Handle specific menu items
        if (menuText === 'Выход') {
          if (confirm('Закрыть Internet Explorer?')) {
            document.body.innerHTML = '<div style="display:flex;justify-content:center;align-items:center;height:100vh;background:#008080;color:white;font-family:Arial;">Internet Explorer закрыт</div>';
          }
        } else if (menuText === 'Обновить') {
          refreshBtn.click();
        } else if (menuText === 'Прекратить') {
          stopBtn.click();
        }
      });
    });

    // Toolbar active button visual effects
    // document.querySelectorAll('.toolbar-button').forEach(button => {
    //   button.addEventListener('mousedown', function () {
    //     this.style.border = '1px inset #c0c0c0';
    //   });

    //   button.addEventListener('mouseup', function () {
    //     this.style.border = '1px outset #c0c0c0';
    //   });
    // });

    // reftash address input after nav
    browserFrame.addEventListener('load', function () {
      addressInput.value = browserFrame.contentWindow.location.href;
      statusText.textContent = 'Готово';
    });
  </script>
</body>

</html>